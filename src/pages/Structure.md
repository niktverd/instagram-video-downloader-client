# Структура и топология каталога `src/pages`

## Общая структура

Каталог `src/pages` содержит основные страницы приложения, каждая из которых реализована как отдельный React-компонент (функциональный компонент). Страницы разбиты по смысловым блокам, часть из них вынесена в подкаталоги для группировки по функционалу.

### Основные файлы и директории

- **Home.tsx** — главная страница.
- **PreparedVideos.tsx** — страница с подготовленными видео.
- **SourceDetails.tsx** — детальная страница источника.
- **Sources.tsx** — список источников (таблица с пагинацией, сортировкой, actions).
- **Policy.tsx** — страница политики.
- **Test.tsx** — тестовая страница.
- **AnalizeUserContent.tsx** — анализ пользовательского контента.

#### Подкаталоги:

- **InstagramCallback/**
  - `InstagramCallback.tsx` — обработка callback'а Instagram OAuth.
  - `index.ts` — реэкспорт.
- **Scenarios/**
  - `Scenarios.tsx` — страница сценариев.
  - `Scenarios.module.css` — стили для сценариев.
- **Navigation/**
  - `Main.tsx` — основной компонент навигации (меню, роутинг).
  - `Main.module.css` — стили навигации.
- **Accounts/**
  - `Accounts.tsx` — страница аккаунтов.
  - `Accounts.module.css` — стили.
  - `index.ts` — реэкспорт.
- **AuthPage/**
  - `AuthPage.tsx` — страница авторизации.
  - `AuthPage.module.css` — стили.

## Топология и навигация

- Навигация построена на `react-router-dom` (используются: `Link`, `Route`, `Routes`, `useNavigate`, `useLocation`, `useParams`).
- Основная маршрутизация и меню реализованы в `Navigation/Main.tsx`.
- Страницы используют роутинг для переходов между собой (например, кнопки "View Details" в таблицах ведут на детальные страницы).

## Зависимости

- **Контексты:**
  - `AppEnvContext` (src/contexts/AppEnv.tsx) — определяет окружение (isProd), используется для передачи флагов среды.
  - `AuthContext` (src/contexts/AuthContext.tsx) — аутентификация.
- **Типы:**
  - Все типы импортируются из `src/sharedTypes` (например, `ISource`, `GetAllSourcesResponse`).
- **Утилиты:**
  - Сетевые запросы через `fetchHelpers` (src/utils/fetchHelpers.ts).
  - Константы маршрутов — `src/utils/constants` (Routes).
- **UI:**
  - Используется библиотека `@gravity-ui/uikit` для таблиц, кнопок, селектов, пагинации и т.д.

## Пример связей

- `Sources.tsx`:
  - Получает данные через `fetchGet` с использованием `Routes.getAllSources`.
  - Использует типы из `sharedTypes`.
  - Навигация через `Link` из `react-router-dom`.
  - Контекст окружения через `AppEnvContext`.

## Итог

Каталог `pages` — это точка входа для всех основных пользовательских страниц. Каждый файл — отдельная страница или логическая группа страниц. Вся маршрутизация централизована через компоненты навигации. Зависимости строго типизированы и вынесены в отдельные модули.
