# Пошаговый план перехода на новую структуру страниц

## Общие принципы

- Каждый юнит (бизнес-сущность или страница) переводится отдельно.
- Для каждого юнита создаются: Root.tsx, List.tsx, Overview.tsx, Form.tsx, index.ts (если применимо).
- Все действия сопровождаются структурированными промптами для copilot/AI-ассистента.

---

## Source (Sources.tsx, SourceDetails.tsx)

### 1. Создать директорию `/pages/Source/`

**Промпт:**

> Создай директорию `src/pages/Source`.

### 2. Перенести и декомпозировать Sources.tsx

**Промпт:**

> Раздели логику из `Sources.tsx` на:
>
> - List.tsx (таблица, массовые действия, добавление)
> - Form.tsx (форма создания/редактирования)
> - Вынеси API-запросы и типы в отдельные хуки/утилиты при необходимости.

### 3. Перенести и декомпозировать SourceDetails.tsx

**Промпт:**

> Раздели логику из `SourceDetails.tsx` на:
>
> - Overview.tsx (детали, действия, формы удаления/редактирования)
> - Form.tsx (использовать общий компонент формы)

### 4. Реализовать Root.tsx

**Промпт:**

> Создай Root.tsx с роутингом между List, Overview, Form по паттерну из Structure_new.md.

### 5. index.ts

**Промпт:**

> Реэкспортируй все компоненты Source из index.ts.

### 6. Обновить импорты и роутинг в Navigation/Main.tsx

**Промпт:**

> Замени старые импорты Sources/SourceDetails на Source/Root и обнови маршруты.

---

## Account (Accounts/)

### 1. Создать директорию `/pages/Account/`

**Промпт:**

> Создай директорию `src/pages/Account`.

### 2. Перенести и декомпозировать Accounts.tsx

**Промпт:**

> Раздели логику из `Accounts.tsx` на:
>
> - List.tsx (таблица, массовые действия, добавление)
> - Overview.tsx (детали аккаунта, действия)
> - Form.tsx (форма создания/редактирования)

### 3. Реализовать Root.tsx

**Промпт:**

> Создай Root.tsx с роутингом между List, Overview, Form по паттерну из Structure_new.md.

### 4. index.ts

**Промпт:**

> Реэкспортируй все компоненты Account из index.ts.

### 5. Обновить импорты и роутинг в Navigation/Main.tsx

**Промпт:**

> Замени старые импорты Accounts на Account/Root и обнови маршруты.

---

## Scenario (Scenarios/)

### 1. Создать директорию `/pages/Scenario/`

**Промпт:**

> Создай директорию `src/pages/Scenario`.

### 2. Перенести и декомпозировать Scenarios.tsx

**Промпт:**

> Раздели логику из `Scenarios.tsx` на:
>
> - List.tsx (таблица, массовые действия, добавление)
> - Overview.tsx (детали сценария, действия)
> - Form.tsx (форма создания/редактирования)

### 3. Реализовать Root.tsx

**Промпт:**

> Создай Root.tsx с роутингом между List, Overview, Form по паттерну из Structure_new.md.

### 4. index.ts

**Промпт:**

> Реэкспортируй все компоненты Scenario из index.ts.

### 5. Обновить импорты и роутинг в Navigation/Main.tsx

**Промпт:**

> Замени старые импорты Scenarios на Scenario/Root и обнови маршруты.

---

## PreparedVideos

### 1. Создать директорию `/pages/PreparedVideo/`

**Промпт:**

> Создай директорию `src/pages/PreparedVideo`.

### 2. Перенести и декомпозировать PreparedVideos.tsx

**Промпт:**

> Раздели логику на List.tsx (список видео), Overview.tsx (детали видео), Form.tsx (форма создания/редактирования).

### 3. Реализовать Root.tsx и index.ts

**Промпт:**

> Создай Root.tsx с роутингом и index.ts для PreparedVideo.

### 4. Обновить импорты и роутинг

**Промпт:**

> Обнови Navigation/Main.tsx для новых PreparedVideo.

---

## Policy, Test, AnalizeUserContent, Home

### 1. Для простых страниц (Policy, Test, AnalizeUserContent, Home)

**Промпт:**

> Для каждой страницы:
>
> - Если страница простая (без CRUD), перенеси в отдельную директорию (например, /pages/Policy/Root.tsx) и оформи как Root.tsx.
> - Обнови Navigation/Main.tsx для новых путей.

---

## InstagramCallback

### 1. Создать директорию `/pages/InstagramCallback/` (если не существует)

**Промпт:**

> Проверь, что директория есть. Если нет — создай.

### 2. Перенести InstagramCallback.tsx в Root.tsx

**Промпт:**

> Переименуй InstagramCallback.tsx в Root.tsx, оформи как страницу-юнит.

### 3. index.ts

**Промпт:**

> Реэкспортируй Root из index.ts.

### 4. Обновить импорты и роутинг

**Промпт:**

> Обнови Navigation/Main.tsx для новых путей.

---

## AuthPage

### 1. Создать директорию `/pages/Auth/` (или аналогично)

**Промпт:**

> Перенеси AuthPage.tsx в /pages/Auth/Root.tsx.

### 2. index.ts

**Промпт:**

> Реэкспортируй Root из index.ts.

### 3. Обновить импорты и роутинг

**Промпт:**

> Обнови Navigation/Main.tsx для новых путей.

---

## Navigation

### 1. Перевести Main.tsx в Root.tsx

**Промпт:**

> Переименуй Main.tsx в Root.tsx, оформи как страницу-юнит.

### 2. index.ts

**Промпт:**

> Реэкспортируй Root из index.ts.

---

## Общие финальные шаги

### 1. Удалить старые файлы и директории после миграции

**Промпт:**

> Удали старые файлы страниц, которые были перенесены и декомпозированы.

### 2. Провести ревью и тестирование роутинга и навигации

**Промпт:**

> Проверь, что все маршруты работают, нет битых ссылок, все формы и списки функционируют корректно.

---

**План покрывает все основные юниты и шаги миграции. Каждый шаг снабжен промптом для copilot/AI-ассистента.**
